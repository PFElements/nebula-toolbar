<!--
@license
Copyright (c) 2017 Ars Nebula LLC.
This code may be used under the terms found in LICENSE.md of this repository.
-->

<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../nebula-select/nebula-select-behavior.html">

<!--
`<nebula-toolbar>` is a web component to manage a group of toolbar controls.

The element enforces group behavior such as ensuring that one, and only one control in the group is selected. If no initial control is selected, it will automatically select the first eligible control. Hidden and disabled controls can be included, but will be ignored from selection.

The element implements keyboard navigation behavior defined in the [WAI-ARIA](https://www.w3.org/TR/wai-aria-practices-1.1/#toolbar) authoring practices for **a11y**. The element uses a *roving index* strategy for navigation within the group, so any `tabindex` set on an individual control will be modified as necessary.

The container supports vertical and horizontal layout using the `direction` property.

## Usage

The following demonstrates the element with some common properties and events:

```html
<nebula-toolbar direction="vertical">
  <a hidden>Hidden</a>
  <a>Link 1</a>
  <a>Link 2</a>
  <a>Link 3</a>
  <a disabled>Link 4</a>
  <a>Link 5</a>
</nebula-toolbar>
```

@demo demo/index.html
-->

<dom-module id="nebula-toolbar">
  <template>
    <style>
      :host {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
        width: fit-content;
        height: fit-content;
      }
      :host([direction=horizontal]) {
        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
      }
      :host([direction=vertical]) {
        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;
      }
    </style>
    <slot></slot>
  </template>
  <script>
    Polymer({
      is: 'nebula-toolbar',
      hostAttributes: {
        'role': 'toolbar'
      },
      behaviors: [
        Nebula.SelectBehavior
      ],
      properties: {
        /**
        * The direction of the toolbar.
        * Accepted values are `horizontal` and `vertical`.
        */
        direction: {
          type: String,
          reflectToAttribute: true,
          notify: true,
          value: 'horizontal'
        }
      },
      observers: [
        '_onDirectionChanged(direction)'
      ],
      _onDirectionChanged: function(direction) {
        if (direction) {
          this.setAttribute('aria-orientation', direction)
        } else {
          this.setAttribute('aria-orientation', 'undefined')
        }
      }
    })
  </script>
</dom-module>